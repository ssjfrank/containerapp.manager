# ContainerManager.Service - Environment Configuration
# Copy this file to .env and fill in your actual values
# DO NOT commit .env to version control

# ============================================================================
# Manager Settings
# ============================================================================

# How often to check queues (in seconds)
ManagerSettings__PollingIntervalSeconds=30

# How long queues must be idle before stopping container (in minutes)
ManagerSettings__IdleTimeoutMinutes=10

# How long to wait for receivers after restart (in minutes)
ManagerSettings__RestartVerificationTimeoutMinutes=5

# Delay between scale-down and scale-up during restart (in seconds)
ManagerSettings__RestartDelaySeconds=5

# Queue to Container Mappings (JSON format)
# Format: {"container-app-name": ["queue.name.1", "queue.name.2"]}
ManagerSettings__QueueContainerMappings={"container-app-1": ["queue.app1.requests", "queue.app1.events"], "container-app-2": ["queue.app2.requests"]}

# ============================================================================
# TIBCO EMS Settings
# ============================================================================

# EMS Server URL (format: tcp://hostname:port)
EmsSettings__ServerUrl=tcp://localhost:7222

# EMS Username
EmsSettings__Username=admin

# EMS Password
EmsSettings__Password=

# Notification Queue Name (where notifications are published)
EmsSettings__NotificationQueueName=NOTIFICATION.QUEUE

# ============================================================================
# Azure Settings
# ============================================================================

# Azure Subscription ID
AzureSettings__SubscriptionId=

# Azure Resource Group Name
AzureSettings__ResourceGroupName=

# Use Managed Identity for authentication (true/false)
# Set to true when running in Azure with Managed Identity
# Set to false for local development with Service Principal
AzureSettings__UseManagedIdentity=false

# Service Principal Credentials (only needed if UseManagedIdentity=false)
AzureSettings__TenantId=
AzureSettings__ClientId=
AzureSettings__ClientSecret=

# ============================================================================
# Logging Settings
# ============================================================================

# Minimum log level (Debug, Information, Warning, Error)
Serilog__MinimumLevel__Default=Information

# Override log levels for Microsoft libraries
Serilog__MinimumLevel__Override__Microsoft=Warning
Serilog__MinimumLevel__Override__System=Warning

# ============================================================================
# Health Check Settings
# ============================================================================

# Enable health check endpoint (true/false)
EnableHealthChecks=false

# ============================================================================
# Example Configurations
# ============================================================================

# Development Example:
# EmsSettings__ServerUrl=tcp://dev-ems-server:7222
# AzureSettings__SubscriptionId=12345678-1234-1234-1234-123456789abc
# AzureSettings__ResourceGroupName=rg-dev-container-apps
# Serilog__MinimumLevel__Default=Debug

# Production Example:
# EmsSettings__ServerUrl=tcp://prod-ems-server:7222
# AzureSettings__UseManagedIdentity=true
# Serilog__MinimumLevel__Default=Information